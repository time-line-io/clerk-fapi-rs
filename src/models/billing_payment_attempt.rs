/*
 * Clerk Frontend API
 *
 * The Clerk REST Frontend API, meant to be accessed from a browser or native environment.  This is a Form Based API and all the data must be sent and formatted according to the `application/x-www-form-urlencoded` content type.  ### Versions  When the API changes in a way that isn't compatible with older versions, a new version is released. Each version is identified by its release date, e.g. `2021-02-05`. For more information, please see [Clerk API Versions](https://clerk.com/docs/backend-requests/versioning/overview).  ### Using the Try It Console  The `Try It` feature of the docs only works for **Development Instances** when using the `DevBrowser` security scheme. To use it, first generate a dev instance token from the `/v1/dev_browser` endpoint.  Please see https://clerk.com/docs for more information.
 *
 * The version of the OpenAPI document: v1
 * Contact: support@clerk.com
 * Generated by: https://openapi-generator.tech
 */

use crate::models;
use serde::{Deserialize, Serialize};

#[derive(Clone, Default, Debug, PartialEq, Serialize, Deserialize)]
pub struct BillingPaymentAttempt {
    /// String representing the object's type
    #[serde(rename = "object")]
    pub object: Object,
    /// Unique identifier for the payment attempt
    #[serde(rename = "id")]
    pub id: String,
    /// Unique identifier for the payment
    #[serde(rename = "payment_id")]
    pub payment_id: String,
    /// Unique identifier for the instance
    #[serde(rename = "instance_id")]
    pub instance_id: String,
    /// Type of charge
    #[serde(rename = "charge_type")]
    pub charge_type: String,
    /// Unique identifier for the payee
    #[serde(rename = "payee_id")]
    pub payee_id: String,
    #[serde(rename = "payee")]
    pub payee: Box<models::BillingPayee>,
    /// Unique identifier for the payer
    #[serde(rename = "payer_id")]
    pub payer_id: String,
    #[serde(rename = "payer")]
    pub payer: Box<models::BillingPayer>,
    /// Unique identifier for the subscription item (only present for recurring payments)
    #[serde(rename = "subscription_item_id")]
    pub subscription_item_id: String,
    #[serde(rename = "subscription_item")]
    pub subscription_item: Box<models::BillingSubscriptionItem>,
    #[serde(rename = "amount")]
    pub amount: Box<models::BillingMoneyResponse>,
    /// Unique identifier for the payment method used
    #[serde(rename = "payment_method_id")]
    pub payment_method_id: String,
    #[serde(rename = "payment_method")]
    pub payment_method: Box<models::BillingPaymentMethod>,
    /// Unique identifier for the statement
    #[serde(rename = "statement_id")]
    pub statement_id: String,
    /// External ID from the payment gateway
    #[serde(rename = "gateway_external_id", deserialize_with = "Option::deserialize")]
    pub gateway_external_id: Option<String>,
    /// URL to view this payment in the gateway dashboard
    #[serde(rename = "gateway_external_url", deserialize_with = "Option::deserialize")]
    pub gateway_external_url: Option<String>,
    /// Status of the payment attempt
    #[serde(rename = "status")]
    pub status: String,
    /// Unix timestamp (in milliseconds) when the payment was completed
    #[serde(rename = "paid_at", deserialize_with = "Option::deserialize")]
    pub paid_at: Option<i64>,
    /// Unix timestamp (in milliseconds) when the payment failed
    #[serde(rename = "failed_at", deserialize_with = "Option::deserialize")]
    pub failed_at: Option<i64>,
    /// Reason for payment failure
    #[serde(rename = "failed_reason", skip_serializing_if = "Option::is_none")]
    pub failed_reason: Option<serde_json::Value>,
    /// Unix timestamp (in milliseconds) when the payment attempt was created
    #[serde(rename = "created_at")]
    pub created_at: i64,
    /// Unix timestamp (in milliseconds) when the payment attempt was last updated
    #[serde(rename = "updated_at")]
    pub updated_at: i64,
}

impl BillingPaymentAttempt {
    pub fn new(object: Object, id: String, payment_id: String, instance_id: String, charge_type: String, payee_id: String, payee: models::BillingPayee, payer_id: String, payer: models::BillingPayer, subscription_item_id: String, subscription_item: models::BillingSubscriptionItem, amount: models::BillingMoneyResponse, payment_method_id: String, payment_method: models::BillingPaymentMethod, statement_id: String, gateway_external_id: Option<String>, gateway_external_url: Option<String>, status: String, paid_at: Option<i64>, failed_at: Option<i64>, created_at: i64, updated_at: i64) -> BillingPaymentAttempt {
        BillingPaymentAttempt {
            object,
            id,
            payment_id,
            instance_id,
            charge_type,
            payee_id,
            payee: Box::new(payee),
            payer_id,
            payer: Box::new(payer),
            subscription_item_id,
            subscription_item: Box::new(subscription_item),
            amount: Box::new(amount),
            payment_method_id,
            payment_method: Box::new(payment_method),
            statement_id,
            gateway_external_id,
            gateway_external_url,
            status,
            paid_at,
            failed_at,
            failed_reason: None,
            created_at,
            updated_at,
        }
    }
}
/// String representing the object's type
#[derive(Clone, Copy, Debug, Eq, PartialEq, Ord, PartialOrd, Hash, Serialize, Deserialize)]
pub enum Object {
    #[serde(rename = "commerce_payment")]
    CommercePayment,
}

impl Default for Object {
    fn default() -> Object {
        Self::CommercePayment
    }
}

